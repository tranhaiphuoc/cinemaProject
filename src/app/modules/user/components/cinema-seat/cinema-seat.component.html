<ng-container *ngIf="cinemaId && showtimeId">
  <div class="booking-seat">
    <div class="wrapper">
      <div class="screen">SCREEN</div>
      <div class="seat-container">
        <ng-container *ngFor="let seat of seats">
          <ng-container [ngSwitch]="seat.type.name">
            <ng-container
              *ngSwitchCase="'single'"
              [ngTemplateOutlet]="seatSingle"
              [ngTemplateOutletContext]="{
                status: seat.status,
                name: seat.name
              }"
            ></ng-container>
            <ng-container
              *ngSwitchCase="'double'"
              [ngTemplateOutlet]="seatDouble"
              [ngTemplateOutletContext]="{
                status: seat.status,
                name: seat.name
              }"
            ></ng-container>
          </ng-container>
        </ng-container>
      </div>
    </div>
  </div>
</ng-container>

<ng-template #seatSingle let-status="status" let-name="name">
  <ng-container [ngSwitch]="status">
    <div
      class="seat single"
      [ngClass]="{ busy: status == 2 }"
      [ngStyle]="{
        'top.em': top,
        'left.em': left,
        'width.em': side,
        'height.em': side
      }"
    >
      {{ name }}
    </div>
    <ng-container
      *ngSwitchCase="0"
      [ngStyle]="{ 'left.em': left }"
    ></ng-container>
  </ng-container>
</ng-template>

<ng-template #seatDouble let-status="status" let-name="name">
  <ng-container [ngSwitch]="status">
    <div
      *ngSwitchDefault
      class="seat double"
      [ngClass]="{ busy: status == 2 }"
      [ngStyle]="{
        'top.em': top,
        'left.em': leftDouble,
        'width.em': sideDouble,
        'height.em': side
      }"
    >
      {{ name }}
    </div>
    <ng-container
      *ngSwitchCase="0"
      [ngStyle]="{ 'left.em': leftDouble }"
    ></ng-container>
  </ng-container>
</ng-template>
